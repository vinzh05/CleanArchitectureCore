{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Username=ecom;Password=password;Database=ecom"
  },

  "RabbitMq": {
    "Host": "rabbitmq",
    "Port": 5672,
    "Username": "guest",
    "Password": "guest",
    "VirtualHost": "/",
    "PrefetchCount": 16,
    "UseSSL": false,
    "Retry": {
      "RetryCount": 5,
      "IntervalSeconds": 5,
      "UseExponentialBackoff": true,
      "MaxIntervalSeconds": 300
    },
    "Connection": {
      "RequestedHeartbeat": 60,
      "RequestedConnectionTimeout": 30,
      "MaxConnectionRetries": 3
    },
    "Exchanges": {
      "ProductCreated": {
        "Name": "product.created.exchange",
        "Type": "fanout",
        "Queue": "products.fanout.queue",
        "Durable": true,
        "AutoDelete": false,
        "QueueSettings": {
          "Exclusive": false,
          "DeadLetter": {
            "ExchangeName": "product.dlx",
            "RoutingKey": "dead-letter"
          }
        }
      },
      "OrderCreated": {
        "Name": "order.created.exchange",
        "Type": "fanout",
        "Queue": "orders.fanout.queue",
        "Durable": true,
        "AutoDelete": false,
        "QueueSettings": {
          "Exclusive": false,
          "DeadLetter": {
            "ExchangeName": "order.dlx",
            "RoutingKey": "dead-letter"
          }
        }
      },
      "ProductUpdated": {
        "Name": "product.updated.exchange",
        "Type": "topic",
        "RoutingKey": "product.#",
        "Queue": "products.topic.queue",
        "Durable": true
      },
      "ProductDeleted": {
        "Name": "product.deleted.exchange",
        "Type": "direct",
        "RoutingKey": "product.deleted",
        "Queue": "products.direct.queue",
        "Durable": true
      },
      "HikvisionAccessControl": {
        "Name": "hikvision.access.control.exchange",
        "Type": "topic",
        "RoutingKey": "hikvision.access.#",
        "Queue": "hikvision.access.control.queue",
        "Durable": true,
        "QueueSettings": {
          "DeadLetter": {
            "ExchangeName": "hikvision.dlx",
            "RoutingKey": "access-control-failed"
          }
        }
      },
      "HikvisionDeviceStatus": {
        "Name": "hikvision.device.status.exchange",
        "Type": "topic",
        "RoutingKey": "hikvision.device.#",
        "Queue": "hikvision.device.status.queue",
        "Durable": true,
        "QueueSettings": {
          "DeadLetter": {
            "ExchangeName": "hikvision.dlx",
            "RoutingKey": "device-status-failed"
          }
        }
      },
      "HikvisionAlarm": {
        "Name": "hikvision.alarm.exchange",
        "Type": "topic",
        "RoutingKey": "hikvision.alarm.#",
        "Queue": "hikvision.alarm.queue",
        "Durable": true,
        "QueueSettings": {
          "DeadLetter": {
            "ExchangeName": "hikvision.dlx",
            "RoutingKey": "alarm-failed"
          }
        }
      },
      "HikvisionPersonSync": {
        "Name": "hikvision.person.sync.exchange",
        "Type": "topic",
        "RoutingKey": "hikvision.person.#",
        "Queue": "hikvision.person.sync.queue",
        "Durable": true,
        "QueueSettings": {
          "DeadLetter": {
            "ExchangeName": "hikvision.dlx",
            "RoutingKey": "person-sync-failed"
          }
        }
      },
      "HikvisionDoorOpened": {
        "Name": "hikvision.door.opened.exchange",
        "Type": "topic",
        "RoutingKey": "hikvision.door.#",
        "Queue": "hikvision.door.opened.queue",
        "Durable": true,
        "QueueSettings": {
          "DeadLetter": {
            "ExchangeName": "hikvision.dlx",
            "RoutingKey": "door-opened-failed"
          }
        }
      }
    }
  },

  "Outbox": {
    "PollIntervalSeconds": 5,
    "BatchSize": 50,
    "MaxDegreeOfParallelism": 4,
    "MaxRetryCount": 10,
    "RetryDelaySeconds": 60,
    "EnableCircuitBreaker": true,
    "CircuitBreakerFailureThreshold": 5,
    "CircuitBreakerResetTimeoutSeconds": 60,
    "EnableIdempotency": true,
    "IdempotencyCacheHours": 24
  },

  "Redis": {
    "Configuration": "localhost:6379"
  },

  "Elastic": {
    "Url": "http://localhost:9200"
  }
}